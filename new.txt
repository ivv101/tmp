<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Form with htmx</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.3/css/bulma.min.css">
</head>

<body>
    <section class="section">
        <div class="container">
            <div class="field is-horizontal">
                <div class="field-body">
                    <div class="field">
                        <label class="label">First Name</label>
                        <div class="control">
                            <input class="input" type="text" name="first_name" placeholder="First Name">
                        </div>
                    </div>
                    <div class="field">
                        <label class="label">Middle Name</label>
                        <div class="control">
                            <input class="input" type="text" name="middle_name" placeholder="Middle Name">
                        </div>
                    </div>
                    <div class="field">
                        <label class="label">Last Name</label>
                        <div class="control">
                            <input class="input" type="text" name="last_name" placeholder="Last Name">
                        </div>
                    </div>
                    <div class="field">
                        <label class="label">License State</label>
                        <div class="control">
                            <input class="input" type="text" name="license_state" placeholder="License State">
                        </div>
                    </div>
                    <div class="field">
                        <label class="label">License Number</label>
                        <div class="control">
                            <input class="input" type="text" name="license_number" placeholder="License Number">
                        </div>
                    </div>
                    <div class="field">
                        <label class="label">Law Firm Name</label>
                        <div class="control">
                            <input class="input" type="text" name="law_firm_name" placeholder="Law Firm Name">
                        </div>
                    </div>
                    <div class="field">
                        <label class="label">DOAN</label>
                        <div class="control">
                            <input class="input" type="text" name="doan" placeholder="DOAN">
                        </div>
                    </div>
                </div>
            </div>
            <button class="button is-link" hx-put="/search" hx-target="#response">
                Search
            </button>
            <div id="response"></div>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/htmx.org@1.5.0/dist/htmx.min.js"></script>
    <script>
        function collectData() {
            const data = {};
            document.querySelectorAll('input').forEach(input => {
                data[input.name] = input.value;
            });
            return JSON.stringify(data);
        }

        const searchButton = document.querySelector('button');
        searchButton.addEventListener('click', function() {
            searchButton.setAttribute('hx-vals', 'json:' + collectData());
        });
    </script>
</body>

</html>



from flask import Flask, request

app = Flask(__name__)

@app.route('/update', methods=['PUT'])
def update():
    data = request.json
    print(data)
    return '', 204

if __name__ == '__main__':
    app.run(debug=True)
